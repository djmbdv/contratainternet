(function($){$(document).ready(function(){var cols=[];var character=[];var selected_cols=[];$('.less').click(function(event){var element=$(this).next();var tag_td=$(this).attr('class');var array_class=tag_td.split(" ");var className=array_class[1];var href=$('.'+className+' a').attr('href');var array_href=href.split('&');var last_key=array_href.length-3;array_href.splice(last_key,3)
var string_href=array_href.join('&');console.log(string_href);if(element.val()!=1&&string_href){var decrement=parseInt(element.val())-1;if(decrement>='0'){element.val(decrement);var values_url=build_url(className,decrement);check_is_combo_creator(string_href,values_url,className);}}});$('.more').click(function(){var element=$(this).prev();var tag_td=$(this).attr('class');var array_class=tag_td.split(" ");var className=array_class[1];var href=$('.'+className+' a').attr('href');var array_href=href.split('&');var last_key=array_href.length-3;array_href.splice(last_key,3)
var string_href=array_href.join('&');if(element.val()<99&&string_href){var increment=parseInt(element.val())+1;element.val(increment);var values_url=build_url(className,increment);check_is_combo_creator(string_href,values_url,className);}});function build_url(className,value)
{console.log(value)
var result_className=cols.indexOf(className);if(result_className<0){cols.push(className);character.push(value);}else if(result_className>=0){character[result_className]=value;}
var values_url='col='+cols.join(',')+'&character='+character.join(',');return values_url;}
function check_is_combo_creator(string_href,values_url,className){$('a.lo_quiero').each(function(index){var str_href=$(this).attr('href');if(str_href.search('combo-creator')>=0){console.log(className);$(this).attr('href',string_href+'&'+values_url+'&selected_cols='+className);$('#individual_botton').attr('href',string_href+'&'+values_url+'&selected_cols='+selected_cols.join(','));}});}
$('.add_plan').click(function(){var element=$(this);if(element.is(':checked')){var classNames=element.parent().attr('class');var array_className=classNames.split(' ');var className=array_className[0];var href=$('.'+className+' a').attr('href');selected_cols.push(className);if(selected_cols.length>0){$('#individual_botton').removeClass('off_button');$('#individual_botton').addClass('on_button');}
var array_href=href.split('&');var last_key=array_href.length-1;array_href.splice(last_key,1);href=array_href.join('&');var url=href+'&selected_cols='+selected_cols.join(',');$('#individual_botton').attr('href',url);}
if(!element.is(':checked')){var classNames=element.parent().attr('class');var array_className=classNames.split(' ');var className=array_className[0];var href=$('.'+className+' a').attr('href');var index=selected_cols.indexOf(className);if(index>=0){selected_cols.splice(index,1);if(selected_cols.length==0){$('#individual_botton').removeClass('on_button');$('#individual_botton').addClass('off_button');}}
var url=href+'&selected_cols='+selected_cols.join(',');$('#individual_botton').attr('href',url);}});});})(jQuery);